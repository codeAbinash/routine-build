import{j as e,b as p,l,u as f}from"./index.js";import{B as h}from"./BackHeader.js";function g({routine:t}){const n=t.time,s=[0,1,2,3,4,5,6],a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-xs text-gray mb-3",children:"Routine Days "}),e.jsx("div",{className:"flex items-center justify-between gap-2",children:s.map((o,i)=>e.jsxs("div",{className:"flex flex-col w-full justify-center items-center gap-1",children:[e.jsx("div",{className:`tap97 relative flex items-center justify-center box h-40 w-[100%] rounded-2xl ${n[i]?"bg-accent shadow-accent/40 shadow-xl":"bg-inputBg dark:bg-darkInputBg"}`,children:n[i]&&e.jsx("p",{className:"rotate-90 absolute text-[0.7rem] whitespace-nowrap text-white/90",children:b(n[i])})}),e.jsx("div",{className:"day mt-3",children:e.jsx("p",{className:"text-gray text-xs text-center",children:a[i]})})]},i))})]})}function b(t){let n="";return t[0]&&(n+=x(t[0]),t[1]&&(n+=` - ${x(t[1])}`)),n}function d(t){return t<10?`0${t}`:t}function x(t){if(!t)return"";const n=t.split(":"),s=parseInt(n[0]),a=parseInt(n[1]),o=s>12?"PM":"AM",i=s>12?s-12:s;return`${d(i)}:${d(a)} ${o}`}function w(){let{routineId:t}=p();const s=JSON.parse(l.get("routines")||"[]")[parseInt(t)],a=f();return e.jsxs("div",{className:"screen flex flex-col justify-between dark:text-darkText",children:[e.jsxs("div",{className:"top",children:[e.jsx(h,{title:`${s.name} (${s.type})`}),e.jsxs("section",{className:"px-5 pt-16",children:[j(s),e.jsxs("div",{className:"description mt-6",children:[e.jsx("p",{className:"text-xs text-gray",children:"Description "}),e.jsx("p",{className:"text-sm p-4 bg-inputBg dark:bg-darkInputBg rounded-xl mt-2 tap99",children:s.description})]})]})]}),e.jsxs("div",{className:"bottom w-full flex flex-row justify-between p-5 gap-4",children:[e.jsx("button",{className:"btn-full bg-pink text-[0.8rem] no-highlight tap97 flex-1",onClick:()=>o(t),children:"Delete"}),e.jsx("button",{className:"btn-full bg-accent text-[0.8rem] no-highlight tap97 flex-1",children:"Edit"})]})]});function o(i){let r,c;if(s.sub){const m=JSON.parse(l.get("subscriptions")||"{}")[s.sub];r=window.confirm(`Warning! This routine belongs to your subscription of ${m.name}. If you delete this routine, this will be restored in the next update of that subscription. Are you sure?`),r&&(c=window.confirm("Really? Are you sure you want to delete this routine?")),r=r&&c}else r=window.confirm("Are you sure you want to delete this routine?");if(!r)return;const u=JSON.parse(l.get("routines")||"[]");u.splice(parseInt(i),1),l.set("routines",JSON.stringify(u)),a(-1)}}function j(t){return t.type==="weekly"?e.jsx(g,{routine:t}):e.jsxs("div",{children:[e.jsx("p",{children:"Not implemented yet"}),e.jsx("div",{className:"p-4 bg-black text-white rounded-2xl mt-4",children:e.jsx("code",{className:"text-sm",children:JSON.stringify(t,null,4)})})]})}export{w as default};
