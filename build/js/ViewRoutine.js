import{j as t,b as f,l,u as h}from"./index.js";import{B as p}from"./BackHeader.js";function g({routine:e}){const n=e.time,s=[0,1,2,3,4,5,6],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return t.jsx("div",{className:"mt-4",children:t.jsx("div",{className:"flex items-center justify-between gap-2",children:s.map((a,i)=>t.jsxs("div",{className:"flex flex-col w-full justify-center items-center gap-1",children:[t.jsx("div",{className:`tap97 relative flex items-center justify-center box h-40 w-[100%] rounded-2xl ${n[i]?"bg-accent shadow-accent/40 shadow-xl":"bg-inputBg dark:bg-darkInputBg"}`,children:n[i]&&t.jsx("p",{className:"rotate-90 absolute text-xs whitespace-nowrap text-white/90",children:j(n[i])})}),t.jsx("div",{className:"day",children:t.jsx("p",{className:"text-gray text-sm text-center",children:o[i]})})]},i))})})}function j(e){let n="";return e[0]&&(n+=m(e[0]),e[1]&&(n+=` - ${m(e[1])}`)),n}function d(e){return e<10?`0${e}`:e}function m(e){if(!e)return"";const n=e.split(":"),s=parseInt(n[0]),o=parseInt(n[1]),a=s>12?"PM":"AM",i=s>12?s-12:s;return`${d(i)}:${d(o)} ${a}`}function w(){let{routineId:e}=f();const s=JSON.parse(l.get("routines")||"[]")[parseInt(e)],o=h();return t.jsxs("div",{className:"screen flex flex-col justify-between dark:text-darkText",children:[t.jsxs("div",{className:"top",children:[t.jsx(p,{title:`${s.name} (${s.type})`}),t.jsxs("section",{className:"px-5",children:[b(s),t.jsx("p",{className:"mt-5",children:s.description})]})]}),t.jsxs("div",{className:"bottom w-full flex flex-col p-5",children:[t.jsx("button",{className:"btn-full text-sm no-highlight tap99",children:"Edit this routine"}),t.jsx("button",{className:"btn-full bg-accent text-sm no-highlight tap99",onClick:()=>a(e),children:"Delete this routine"})]})]});function a(i){let r,c;if(s.sub){const x=JSON.parse(l.get("subscriptions")||"{}")[s.sub];r=window.confirm(`Warning! This routine belongs to your subscription of ${x.name}. If you delete this routine, this will be restored in the next update of that subscription. Are you sure?`),r&&(c=window.confirm("Really? Are you sure you want to delete this routine?")),r=r&&c}else r=window.confirm("Are you sure you want to delete this routine?");if(!r)return;const u=JSON.parse(l.get("routines")||"[]");u.splice(parseInt(i),1),l.set("routines",JSON.stringify(u)),o(-1)}}function b(e){return e.type==="weekly"?t.jsx(g,{routine:e}):t.jsxs("div",{children:[t.jsx("p",{children:"Not implemented yet"}),t.jsx("div",{className:"p-4 bg-black text-white rounded-2xl mt-4",children:t.jsx("code",{className:"text-sm",children:JSON.stringify(e,null,4)})})]})}export{w as default};
